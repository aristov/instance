!function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=n(1),i=_interopRequireDefault(r),a=n(2),u=_interopRequireDefault(a),s=n(4),l=_interopRequireDefault(s),c=n(5),d=_interopRequireDefault(c),f=n(6),p=_interopRequireDefault(f),b=n(7),h=_interopRequireDefault(b),m=n(8),v=n(9),y=_interopRequireDefault(v),g=n(11),x=_interopRequireDefault(g),k=n(13),_=_interopRequireDefault(k),C=n(14),w=_interopRequireDefault(C),E=n(3);n(15);var O=function(e){function TodoApp(e){_classCallCheck(this,TodoApp);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(TodoApp).call(this,e));return e.dataset.instance=t.constructor.name,e.appendChild((0,m.toDOM)(P.apply(t.load()))),e.querySelector("form").addEventListener("submit",t.onSubmit.bind(t)),t.list=e.querySelector("ul"),t.attach(u["default"],l["default"],d["default"],D),t.findAll(T),t}return _inherits(TodoApp,e),o(TodoApp,[{key:"attach",value:function(){for(var e=this,t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];n.forEach(function(t){return t.attachTo(e.element)})}},{key:"onSubmit",value:function(e){var t=this.find(l["default"]),n=t.value.trim();if(n){var o=(0,m.toDOM)(P.apply({element:"todoitem",text:n}));T.getInstance(this.list.appendChild(o)),t.value="",this.save()}else t.focus();e.preventDefault()}},{key:"save",value:function(){localStorage.setItem("TodoApp",JSON.stringify({element:"todoapp",items:this.findAll(T).map(function(e){var t=e.text,n=e.done;return{element:"todoitem",text:t,done:n}})}))}},{key:"load",value:function(){var e=localStorage.getItem("TodoApp");return e?JSON.parse(e):{element:"todoapp",items:[]}}}]),TodoApp}(i["default"]),T=function(e){function TodoItem(e){_classCallCheck(this,TodoItem);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(TodoItem).call(this,e));return t.app=t.closest(O),t.checkbox=t.find(d["default"]).on("change",function(){return t.app.save()}),t.find(D).on("change",function(){return t.app.save()}),t.find(u["default"]).on("click",t.onButtonClick,t),t.dialog=p["default"].getInstance(document.getElementById("removeitemconfirm")),t.onDialogSubmit=t.onDialogSubmit.bind(t),t}return _inherits(TodoItem,e),o(TodoItem,[{key:"onDialogSubmit",value:function(e){this.expanded="false",this.remove(),e.preventDefault()}},{key:"onButtonClick",value:function(){"true"===this.done?this.remove():(this.dialog.trigger=this,this.expanded="true")}},{key:"remove",value:function(){this.element.parentElement.removeChild(this.element),this.app.save()}},{key:"focus",value:function(){this.checkbox.focus()}},{key:"expanded",get:function(){return this.element.getAttribute("aria-expanded")||"false"},set:function(e){e!==this.expanded&&(this.element.setAttribute("aria-expanded",e),"true"===e?(this.dialog.element.addEventListener("submit",this.onDialogSubmit),this.dialog.hidden="false"):(this.dialog.element.removeEventListener("submit",this.onDialogSubmit),this.dialog.hidden="true"))}},{key:"text",get:function(){return this.element.querySelector(".editbox").textContent}},{key:"done",get:function(){return this.checkbox.checked}}]),TodoItem}(i["default"]),D=function(e){function EditBox(e){_classCallCheck(this,EditBox);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(EditBox).call(this,e)),n=t.input=document.createElement("input");return n.value=e.textContent,n.addEventListener("blur",function(){return t.editmode="false"}),t.on("keydown",t.onKeyDown),t.on("click",function(){return t.editmode="true"}),t}return _inherits(EditBox,e),o(EditBox,[{key:"onKeyDown",value:function(e){var t=e.keyCode;t===E.ENTER&&(this.editmode=String("false"===this.editmode)),t===E.ESCAPE&&(this.editmode="false"),t===E.SPACE&&(this.editmode="true")}},{key:"editmode",get:function(){return this.element.dataset.editmode||"false"},set:function(e){if(e!==this.editmode){var t=this.element,n=this.input;if(t.dataset.editmode=e,"true"===e){var o=t.firstChild;o?t.replaceChild(n,o):t.appendChild(n),n.focus()}else t.textContent=n.value,t.focus(),this.emit("change")}}}],[{key:"attachTo",value:function(e){var t=this;e.addEventListener("focus",function(e){var n=e.target;return t.getInstance(n)},!0)}}]),EditBox}(i["default"]),P=new h["default"];[y["default"],x["default"],_["default"],w["default"]].forEach(function(e){return e(P)}),P.element("todoapp",function(e){var t=e.items;return this.apply({element:"main",content:[{element:"h2",content:"TODO list"},{element:"form",content:[{element:"textbox",attributes:{placeholder:"What are you going to do?"}},{element:"button",attributes:{type:"submit"},content:"Remember"}]},{element:"ul",content:t},{element:"confirmdialog",attributes:{text:'Item is not marked as "done". Are you sure?',id:"removeitemconfirm",submitlabel:"Remove item"}}]})}),P.element("confirmdialog",function(e){var t=e.attributes,n=e.content;return this.apply({element:"dialog",attributes:{modal:"true",id:t.id},content:n||{element:"form",content:[{element:"p",content:t.text},{element:"button",attributes:{type:"submit",mix:"accent"},content:t.submitlabel||"Ok"},{element:"button",attributes:{type:"close"},content:t.dismisslabel||"Cancel"}]}})}),P.element("todoitem",function(e){var t=e.text,n=e.done;return{element:"li",attributes:{"data-instance":"TodoItem","aria-haspopup":"true",draggable:"true"},content:this.apply([{element:"checkbox",attributes:{checked:n,title:'Mark as "done"'}},{element:"editbox",attributes:{value:t}},{element:"button",attributes:{view:"removebutton",type:"remove",title:"Remove"},content:"Ã—"}])}}),P.element("editbox",function(e){var t=e.attributes;return{element:"span",attributes:{"data-instance":"EditBox","class":"editbox",tabindex:"0",title:t.title||"Click to edit"},content:t.value}}),new O(document.body)},function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=Array.prototype.map,r=function(){function Instance(e){_classCallCheck(this,Instance),e.instance=this,this.element=e}return n(Instance,[{key:"on",value:function(e,t,n){return this.element.addEventListener(e,t.bind(n||this)),this}},{key:"emit",value:function(e){return this.element.dispatchEvent(new Event(e,{bubbles:!0,cancelable:!0})),this}},{key:"find",value:function(e,t){return t?this.findAll(e,t)[0]||null:e.getInstance(this.element.querySelector("[data-instance="+e.name+"]"))}},{key:"findAll",value:function(e,t){var n=o.call(this.element.querySelectorAll("[data-instance="+e.name+"]"),function(t){return e.getInstance(t)});return t?n.filter(t):n}},{key:"closest",value:function(e,t){var n=this;do n=e.getInstance(n.element.parentElement.closest("[data-instance="+e.name+"]"));while(n&&t&&!t(n));return n}},{key:"id",get:function(){return this.element.id||""}},{key:"hidden",get:function(){return String(this.element.hidden)},set:function(e){this.element.hidden="true"===e}},{key:"disabled",get:function(){return this.element.getAttribute("aria-disabled")||"false"},set:function(e){this.element.setAttribute("aria-disabled",e)}}],[{key:"getInstance",value:function(e){return e&&e.dataset&&e.dataset.instance===this.name?e.instance||new this(e):null}},{key:"closestInstance",value:function(e){return this.getInstance(e.closest("[data-instance="+this.name+"]"))}},{key:"on",value:function(e,t,n){var o=this;document.addEventListener(e,function(e){var r=(n||o).closestInstance(e.target);r&&t.call(r,e)},!0)}}]),Instance}();t["default"]=r},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function set(e,t,n,o){var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);null!==i&&set(i,t,n,o)}else if("value"in r&&r.writable)r.value=n;else{var a=r.set;void 0!==a&&a.call(o,n)}return n},i=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(n)},a=n(1),u=_interopRequireDefault(a),s=n(3),l=function(e){function Button(e){_classCallCheck(this,Button);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(Button).call(this,e));return t.on("keydown",t.onKeyDown),t.on("keyup",t.onKeyUp),t}return _inherits(Button,e),o(Button,[{key:"onKeyDown",value:function(e){var t=e.keyCode;t===s.ENTER&&this.emit("click"),t===s.SPACE&&(e.preventDefault(),e.repeat||this.element.classList.add("active"))}},{key:"onKeyUp",value:function(e){var t=e.keyCode;t===s.SPACE&&(this.element.classList.remove("active"),this.emit("click"))}},{key:"onClick",value:function(e){if("true"===this.disabled)return void e.stopImmediatePropagation();if(this.pressed&&(this.pressed=String("false"===this.pressed),this.emit("change")),this.expanded&&(this.expanded=String("false"===this.expanded)),"submit"===this.type){var t=this.element.closest("form");t&&t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}}},{key:"focus",value:function(){this.element.focus()}},{key:"disabled",get:function(){return i(Object.getPrototypeOf(Button.prototype),"disabled",this)},set:function(e){r(Object.getPrototypeOf(Button.prototype),"disabled",e,this),"true"===e?this.element.removeAttribute("tabindex"):this.element.tabIndex=0}},{key:"pressed",get:function(){return this.element.getAttribute("aria-pressed")||""},set:function(e){this.element.setAttribute("aria-pressed",e)}},{key:"controls",get:function(){return this.element.getAttribute("aria-controls")||""}},{key:"expanded",get:function(){return this.element.getAttribute("aria-expanded")||""},set:function(e){this.element.setAttribute("aria-expanded",e)}},{key:"text",get:function(){return this.element.textContent},set:function(e){this.element.textContent=e}},{key:"type",get:function(){return this.element.dataset.type}},{key:"value",get:function(){return this.element.dataset.value}}],[{key:"attachTo",value:function(e){var t=this;e.addEventListener("focus",function(e){var n=e.target;return t.getInstance(n)},!0),e.addEventListener("click",function(e){var n=t.closestInstance(e.target);n&&n.onClick(e)},!0)}}]),Button}(u["default"]);t["default"]=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BACKSPACE=8,t.TAB=9,t.ENTER=13,t.ESCAPE=27,t.SPACE=32,t.ARROWS={LEFT:37,UP:38,RIGHT:39,DOWN:40},t.DIGITS=Array.from(new Array(10)).map(function(e,t){return t+48}),t.LETTERS="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").reduce(function(e,t,n){return e[t]=n+65,e},{})},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=n(1),i=_interopRequireDefault(r),a=n(2),u=_interopRequireDefault(a),s="disabled",l="focus",c=function(e){function TextBox(e){_classCallCheck(this,TextBox);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(TextBox).call(this,e));return t.input=e.querySelector("input,textarea"),t.input.addEventListener("blur",t.onInputBlur.bind(t)),t.input.addEventListener("input",t.onInputInput.bind(t)),"true"===t.hasclear&&(t.clearbutton=t.find(u["default"],function(e){return"clear"===e.type})),t}return _inherits(TextBox,e),o(TextBox,[{key:"onClick",value:function(e){var t=u["default"].getInstance(e.target);t&&this.onButtonClick(e,t)}},{key:"onInputInput",value:function(){this.input.setAttribute("value",this.value),"true"===this.hasclear&&(this.clearbutton.hidden=String(!this.value))}},{key:"onButtonClick",value:function(e,t){"clear"===t.type&&this.clear()}},{key:"onInputFocus",value:function(){this.element.classList.add(l)}},{key:"onInputBlur",value:function(){this.element.classList.remove(l)}},{key:"clear",value:function(){this.value="",this.clearbutton.hidden="true"}},{key:"focus",value:function(){this.input.focus()}},{key:"disabled",get:function(){return String(this.input.disabled)},set:function(e){(this.input.disabled="true"===e)?this.element.classList.add(s):this.element.classList.remove(s)}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e,this.input.setAttribute("value",e),"true"===this.hasclear&&(this.clearbutton.hidden=String(!e))}},{key:"hasclear",get:function(){return String(this.element.classList.contains("hasclear"))}}],[{key:"attachTo",value:function(e){var t=this;e.addEventListener("focus",function(e){var n=e.target,o=n.tagName;if("INPUT"===o||"TEXTAREA"===o){var r=t.closestInstance(n);r&&r.onInputFocus(e)}},!0),e.addEventListener("click",function(e){var n=t.closestInstance(e.target);n&&n.onClick(e)})}}]),TextBox}(i["default"]);t["default"]=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(n)},i=n(1),a=_interopRequireDefault(i),u=n(3),s=function(e){function CheckBox(e){_classCallCheck(this,CheckBox);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(CheckBox).call(this,e));return t.input=t.getInput(),t.on("click",t.onClick),t.on("keydown",t.onKeyDown),t.on("keyup",t.onKeyUp),t}return _inherits(CheckBox,e),o(CheckBox,[{key:"getInput",value:function(){var e=this.element,t=e.querySelector("input");if(!t){var n=e.dataset;t=document.createElement("input"),t.type="hidden",t.name=n.name||"",t.value=n.value||"","true"===this.checked&&e.appendChild(t)}return t}},{key:"onKeyDown",value:function(e){e.keyCode!==u.SPACE||e.repeat||(e.preventDefault(),this.element.classList.add("active"))}},{key:"onKeyUp",value:function(e){var t=e.keyCode;t===u.SPACE&&(this.element.classList.remove("active"),this.emit("click"))}},{key:"onClick",value:function(e){"true"===this.disabled?e.stopImmediatePropagation():(this.checked=String("false"===this.checked),this.emit("change"))}},{key:"focus",value:function(){this.element.focus()}},{key:"checked",get:function(){return this.element.getAttribute("aria-checked")||"false"},set:function(e){var t=this.element,n=this.input;t.setAttribute("aria-checked",e),"true"===e?t.appendChild(n):t.removeChild(n)}},{key:"disabled",get:function(){return r(Object.getPrototypeOf(CheckBox.prototype),"disabled",this)},set:function(e){var t=this.element;t.setAttribute("aria-disabled",e),(this.input.disabled="true"===e)?t.removeAttribute("tabindex"):t.tabIndex=0}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e}}],[{key:"attachTo",value:function(e){var t=this;e.addEventListener("focus",function(e){var n=e.target;return t.getInstance(n)},!0)}}]),CheckBox}(a["default"]);t["default"]=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=n(1),i=_interopRequireDefault(r),a=n(3),u=function(e){function Dialog(e){_classCallCheck(this,Dialog);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(Dialog).call(this,e));return t.trigger=null,t.on("click",t.onClick),t.on("keydown",t.onKeyDown),"true"===t.modal&&t.createBackdrop(),t.onDocumentClick=t.onDocumentClick.bind(t),t.onDocumentFocus=t.onDocumentFocus.bind(t),t}return _inherits(Dialog,e),o(Dialog,[{key:"createBackdrop",value:function(){var e=this.element,t=this.backdrop=document.createElement("div"),n=document.createElement("div");t.className="backdrop",t.hidden=!0,e.hidden=!1,n.appendChild(e),t.appendChild(n),document.body.appendChild(t)}},{key:"onClick",value:function(e){var t=e.target,n=t.dataset;"Button"===n.instance&&"close"===n.type&&(this.hidden="true")}},{key:"onKeyDown",value:function(e){var t=e.keyCode;t===a.ESCAPE&&"false"===this.assertive&&(this.hidden="true",this.trigger&&this.trigger.focus()),t===a.TAB&&this.onTabKeyDown(e)}},{key:"onTabKeyDown",value:function(e){var t=this.widgets,n=t[t.length-1];e.shiftKey&&"true"===this.modal&&e.target===t[0]&&(e.preventDefault(),n.focus()),e.shiftKey||e.target!==n||(e.preventDefault(),"true"===this.modal?t[0].focus():this.trigger&&this.trigger.focus())}},{key:"onDocumentFocus",value:function(e){var t=e.target;this.element.contains(t)||this.widgets[0].focus()}},{key:"onDocumentClick",value:function(e){var t=e.target;this.element.contains(t)||this.trigger&&this.trigger.element.contains(t)||(this.hidden="true")}},{key:"modal",get:function(){return this.element.getAttribute("aria-modal")||"false"}},{key:"widgets",get:function(){for(var e=document.createNodeIterator(this.element,NodeFilter.SHOW_ELEMENT,function(e){return e.tabIndex>-1&&!e.disabled?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),t=[],n=void 0;n=e.nextNode();)t.push(n);return t}},{key:"hidden",get:function(){return String((this.backdrop||this.element).hidden)},set:function(e){e!==this.hidden&&(((this.backdrop||this.element).hidden="true"===e)?(this.trigger&&(this.trigger.expanded="false",this.trigger.focus(),this.trigger=null),"false"===this.assertive?document.removeEventListener("click",this.onDocumentClick):"true"===this.modal&&document.removeEventListener("focus",this.onDocumentFocus,!0)):("false"===this.assertive&&document.addEventListener("click",this.onDocumentClick),"true"===this.modal&&("true"===this.assertive&&document.addEventListener("focus",this.onDocumentFocus,!0),this.widgets[0].focus())))}},{key:"assertive",get:function(){return this.element.dataset.assertive||"false"}}]),Dialog}(i["default"]);t["default"]=u},function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function(){function DOMTransform(){var e=this;_classCallCheck(this,DOMTransform),this.nodes={element:function(t,n){var o=e.elements[t.element]||e.elements[""];return t.attributes||(t.attributes={}),o.call(e,t,n)},text:function(e){return e},comment:function(e){return e},document:function(e){return e},doctype:function(e){return e}},this.elements={"":function(t,n){var o=t.element,r=t.attributes,i=t.content;return{element:o,attributes:r,content:e.apply(i,n)}}}}return n(DOMTransform,[{key:"node",value:function(e,t){this.nodes[e]=t}},{key:"element",value:function(e,t){this.elements[e]=t}},{key:"apply",value:function(e,t){if(!e)return null;if(Array.isArray(e)){for(var n=[],o=0;o<e.length;o++){var r=void 0;(r=this.apply(e[o],t))&&n.push(r)}return n}var i="string"==typeof e?"text":e.element?"element":e.node,a=this.nodes[i];if(a)return a.call(this,e,t);throw Error("Match failed")}},{key:"templates",value:function(){for(var e=this,t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];n.forEach(function(t){return t(e)})}}]),DOMTransform}();t["default"]=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Array.prototype.map,o=Array.prototype.reduce,r=function(e){return n.call(e.childNodes,function(e){return d(e)})},i=Node,a=i.ELEMENT_NODE,u=i.TEXT_NODE,s=i.COMMENT_NODE,l=i.DOCUMENT_NODE,c=i.DOCUMENT_TYPE_NODE,d=t.fromDOM=function(e){switch(e.nodeType){case a:return{node:"element",element:e.tagName,attributes:o.call(e.attributes,function(e,t){return e[t.name]=t.value,e},{}),content:r(e)};case u:return{node:"text",content:e.textContent};case s:return{node:"comment",content:e.textContent};case l:return{node:"document",content:r(e)};case c:return{node:"doctype",name:e.name};default:throw Error("Unsupported node")}},f=function processContent(e){var t=this;return Array.isArray(e)?e.forEach(function(e){return processContent.call(t,e)}):this.appendChild(p(e))},p=t.toDOM=function toDOM(e){if(Array.isArray(e))return e.map(function(e){return toDOM(e)});switch("string"==typeof e&&(e={node:"text",content:e}),!e.node&&e.element&&(e.node="element"),e.node){case"element":var t=document.createElement(e.element),n=e.attributes,o=e.content;return n&&Object.keys(n).forEach(function(e){var o=n[e];"string"==typeof o&&t.setAttribute(e,o)}),o&&f.call(t,o),t;case"text":return document.createTextNode(e.content);case"comment":return document.createComment(e.content);case"document":return"html"===e.type?document.implementation.createHTMLDocument(e.title):document.implementation.createDocument(e.namespaceURI||null,e.qualifiedNameStr,e.documentType||null);case"doctype":return document.implementation.createDocumentType(e.name,e.publicId,e.systemId);default:throw Error("Unsupported node")}},b={fromDOM:d,toDOM:p};t["default"]=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(10);t["default"]=function(e){e.element("button",function(e){var t=e.attributes,n=e.content;return{element:"span",attributes:{"data-instance":t.instance||"Button",role:t.role||"button",tabindex:"true"===t.disabled||("tabindex"in t?t.tabindex:"0"),hidden:"true"===t.hidden?"":void 0,title:t.title,"class":(0,o.mix)(t.view||"button",t.mix),"aria-disabled":t.disabled,"aria-pressed":t.pressed,"aria-haspopup":t.haspopup,"aria-controls":t.controls,"aria-expanded":t.expanded,"data-type":t.type,"data-value":t.value},content:this.apply(n)}})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mix=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=_interopRequireDefault(o),i=n(9),a=_interopRequireDefault(i),u=n(10);t["default"]=function(e){(0,r["default"])(e),(0,a["default"])(e),e.element("textbox",function(e){var t=e.attributes,n=t.instance,o=void 0===n?"TextBox":n,r=t.view,i=void 0===r?"textbox":r,a=t.role,s=t.disabled,l=t.name,c=t.value,d=t.placeholder,f=t.hasclear,p=t.label,b=t.mix,h=t.readonly,m=e.content;return f="true"===f?"hasclear":"",(!m||Array.isArray(m)&&!m.length)&&(m={element:"textinput",attributes:{role:a,name:l,value:c,placeholder:d,disabled:s,readonly:h}},f&&(m=[m,{element:"button",attributes:{type:"clear",tabindex:"-1",view:"clearbutton",disabled:s,hidden:String(!c)}}])),{element:"label",attributes:{"data-instance":o,"aria-label":p,"class":(0,u.mix)(i,b,f,"true"===s&&"disabled")},content:this.apply(m)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(10);t["default"]=function(e){e.element("textinput",function(e){var t=e.attributes;return{element:"input",attributes:{role:t.role,type:t.type,name:t.name,value:t.value,autocomplete:"off",placeholder:t.placeholder,readonly:"true"===t.readonly&&"readonly",disabled:"true"===t.disabled&&"disabled","class":(0,o.mix)(t.view||"textinput box",t.mix)}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(10);t["default"]=function(e){e.element("checkbox",function(e){var t=e.attributes,n=e.content,r=t.view||"checkbox";return n=this.apply("checkbox"===r?[{element:"span",attributes:{"class":"box"}},n]:n),"true"===t.checked&&n.push({element:"input",attributes:{type:"hidden",autocomplete:"off",disabled:"true"===t.disabled?"":void 0,name:t.name,value:t.value}}),{element:"span",attributes:{"data-instance":"CheckBox",role:"checkbox",tabindex:"true"===t.disabled?void 0:"0",id:t.id,title:t.title,"aria-disabled":t.disabled,"aria-checked":t.checked,"aria-controls":t.controls,"class":(0,o.mix)(r,t.mix)},content:n}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(10);t["default"]=function(e){e.element("dialog",function(e){var t=e.attributes,n=e.content;return{element:"div",attributes:{"data-instance":t.instance||"Dialog",role:"dialog",id:t.id,hidden:"","class":(0,o.mix)(t.view||"dialog popup",t.mix),"aria-modal":t.modal,"data-assertive":t.assertive},content:this.apply(n)}})}},function(e,t,n){var o=n(16);"string"==typeof o&&(o=[[e.id,o,""]]);n(26)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(17)(),t.i(n(18),""),t.i(n(19),""),t.i(n(20),""),t.i(n(22),""),t.i(n(24),""),t.i(n(25),""),t.push([e.id,"body{font-size:20px;color:#444}main{width:500px;margin:0 auto}ul{padding:0;list-style:none}li{position:relative;padding:10px 45px;border-bottom:1px solid rgba(0,0,0,.2)}li:last-child{border:none}li .checkbox{line-height:13px;position:absolute;left:15px;top:20px}main form{background:rgba(0,0,0,.2);padding:10px}.textbox{margin-right:5px}.textbox .box{width:300px}.removebutton{position:absolute;right:11px;font-size:2em;line-height:15px;opacity:0;cursor:pointer;outline:none;top:20px}li:hover .removebutton{opacity:.2}li .removebutton:focus,li .removebutton:hover{opacity:.5}li .editbox{display:inline-block;width:100%;min-height:33px;line-height:23px;vertical-align:top;outline:none;cursor:pointer;box-sizing:border-box}li .editbox:not([data-editmode=true]){padding:5px}li .editbox:hover:not([data-editmode=true]){background:rgba(0,0,0,.02)}li .editbox:focus{box-shadow:0 0 0 1px #ffdb4d}li .editbox input{font:inherit;border:none;padding:5px;width:100%;box-shadow:0 0 0 2px #ffdb4d;box-sizing:border-box;outline:none}.dialog{padding:25px}.dialog p{margin:0 0 25px}.dialog .button[data-type=submit]{margin-right:5px}",""])},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,"body{font:13px Arial}[hidden]{display:none!important}",""])},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".button{display:inline-block;outline:none;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.2);border-radius:3px;padding:5px 12px;box-sizing:border-box;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}button.button{font:inherit;padding:5px 9px}button.button::-moz-focus-inner{border:0}.button:hover{border-color:rgba(0,0,0,.3)}.button:focus{border-color:#ffdb4d;box-shadow:inset 0 0 0 1px #ffdb4d}.button.active,.button:active{background:#f3f1ed}.button[aria-checked=true],.button[aria-pressed=true],.button[aria-selected=true]{background:#ffeba0}.button[aria-checked=true].active,.button[aria-checked=true]:active,.button[aria-pressed=true].active,.button[aria-pressed=true]:active,.button[aria-selected=true].active,.button[aria-selected=true]:active{background:#fee481}.button[aria-disabled=true]{cursor:default;color:rgba(0,0,0,.5);background:rgba(0,0,0,.08);border-color:transparent}.button[aria-checked=true][aria-disabled=true],.button[aria-pressed=true][aria-disabled=true],.button[aria-selected=true][aria-disabled=true]{background:rgba(0,0,0,.15);border-color:transparent}.button.accent{background:#ffdb4d;border-color:transparent}.button.accent:hover{background:#ffd633}.button.accent:focus{border-color:transparent;box-shadow:none;animation-name:button-accent-focus;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}.button.accent:active{background:#fc0}@keyframes button-accent-focus{0%,to{background:#fc0}40%,60%{background:#ffe066}}.button[role=checkbox]{border-radius:7px}.button[role=radio]{border-radius:13px}.button[role=tab]{padding-top:0;padding-bottom:0}.button[role=tab]>span{padding-top:4px;padding-bottom:5px;display:inline-block;border-top:1px solid transparent}.button[role=tab][aria-selected=true]:not(:focus)>span{border-top-color:#000}.button[role=tab]:hover{color:#c00}",""]);
},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".textbox{display:inline-block;position:relative}.textbox>.box{background:#fff;border:1px solid rgba(0,0,0,.2);font:inherit;padding:5px 8px;outline:none;box-sizing:border-box;width:180px}.textbox:hover>.box{border-color:rgba(0,0,0,.3)}.textbox.focus>.box,.textbox>.box:focus{border-color:#ffdb4d;box-shadow:inset 0 0 0 1px #ffdb4d}.textbox.disabled,.textbox>.box:disabled{cursor:default;color:rgba(0,0,0,.5)}.textbox>.box:disabled{background:rgba(0,0,0,.08);border-color:transparent}.textbox[aria-label]:before{content:attr(aria-label);display:block;margin-bottom:5px;cursor:default}.textbox.hasclear>.box{padding-right:26px}.textbox .clearbutton{display:none;width:27px;height:27px;background:url("+n(21)+") no-repeat 50% 50%;position:absolute;right:1px;opacity:.25;outline:none}.textbox.focus .clearbutton,.textbox:hover .clearbutton{display:inline-block}.textbox:not(.disabled) .clearbutton:hover{cursor:pointer;opacity:1}.textbox[aria-invalid=true]>.box{border-color:red}",""])},function(e,t){e.exports="\"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10'%3E %3Cpath d='M10 .7L9.3 0 5 4.3.7 0 0 .7 4.3 5 0 9.3l.7.7L5 5.7 9.3 10l.7-.7L5.7 5z'/%3E %3C/svg%3E\""},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".checkbox{display:inline-block;outline:none;white-space:nowrap;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.checkbox .box{background:#fff;border:1px solid rgba(0,0,0,.2);border-radius:3px;display:inline-block;width:12px;height:12px;margin-right:6px;position:relative;vertical-align:top}.checkbox:hover .box{border-color:rgba(0,0,0,.3)}.checkbox:focus .box{border-color:#ffdb4d;box-shadow:inset 0 0 0 1px #ffdb4d}.checkbox.active .box,.checkbox:active .box{background:#f3f1ed}.checkbox[aria-checked=mixed] .box,.checkbox[aria-checked=true] .box{background:#ffeba0}.checkbox[aria-checked=mixed].active .box,.checkbox[aria-checked=mixed]:active .box,.checkbox[aria-checked=true].active .box,.checkbox[aria-checked=true]:active .box{background:#fee481}.checkbox[aria-disabled=true]{cursor:default;color:rgba(0,0,0,.5)}.checkbox[aria-disabled=true] .box{background:rgba(0,0,0,.08);border-color:transparent}.checkbox[aria-checked=true][aria-disabled=true] .box{background:rgba(0,0,0,.15);border-color:transparent}.checkbox[aria-checked=true][aria-disabled=true] .box:before{opacity:.4}.checkbox[aria-checked=true] .box:before{content:url("+n(23)+");position:absolute;top:-6px;left:1px}.checkbox[aria-checked=mixed] .box:before{content:'';display:inline-block;background:#000;width:8px;height:2px;top:5px;left:2px;position:absolute}",""])},function(e,t){e.exports="\"data:image/svg+xml;charset=utf8,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg xmlns='http://www.w3.org/2000/svg' width='15px' height='16px'%3E %3Cpolygon points='13.512,0.453 5.475,12.478 1.708,8.28 0.667,9.605 5.603,15.058 14.722,1.613'/%3E %3C/svg%3E\""},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".popup{position:absolute;margin-top:3px;box-shadow:0 0 0 1px rgba(0,0,0,.06),0 10px 20px -5px rgba(0,0,0,.4);background:#fff;z-index:1}",""])},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".dialog{padding:15px}.dialog h3{margin-top:0}.backdrop{display:table;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.backdrop>div{display:table-cell;vertical-align:middle;text-align:center}.backdrop .dialog{display:inline-block;z-index:2;box-sizing:border-box;position:relative;text-align:left;margin:0}.dialog .closebutton{position:absolute;top:0;right:0;padding:10px;background-image:url("+n(21)+");background-repeat:no-repeat;background-position:50% 50%;opacity:.5}.dialog .closebutton:hover{opacity:1}.dialog .closebutton:not(:focus){border-color:transparent}",""])},function(e,t,n){function addStylesToDom(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(addStyle(r.parts[a],t))}else{for(var u=[],a=0;a<r.parts.length;a++)u.push(addStyle(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:u}}}}function listToStyles(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],i=r[0],a=r[1],u=r[2],s=r[3],l={css:a,media:u,sourceMap:s};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function insertStyleElement(e,t){var n=a(),o=l[l.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function removeStyleElement(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function createStyleElement(e){var t=document.createElement("style");return t.type="text/css",insertStyleElement(e,t),t}function createLinkElement(e){var t=document.createElement("link");return t.rel="stylesheet",insertStyleElement(e,t),t}function addStyle(e,t){var n,o,r;if(t.singleton){var i=s++;n=u||(u=createStyleElement(t)),o=applyToSingletonTag.bind(null,n,i,!1),r=applyToSingletonTag.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=createLinkElement(t),o=updateLink.bind(null,n),r=function(){removeStyleElement(n),n.href&&URL.revokeObjectURL(n.href)}):(n=createStyleElement(t),o=applyToTag.bind(null,n),r=function(){removeStyleElement(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function applyToSingletonTag(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function applyToTag(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function updateLink(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var o={},r=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},i=r(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),a=r(function(){return document.head||document.getElementsByTagName("head")[0]}),u=null,s=0,l=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=i()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=listToStyles(e);return addStylesToDom(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i],u=o[a.id];u.refs--,r.push(u)}if(e){var s=listToStyles(e);addStylesToDom(s,t)}for(var i=0;i<r.length;i++){var u=r[i];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete o[u.id]}}}};var c=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}]);